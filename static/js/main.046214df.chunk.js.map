{"version":3,"sources":["panels/Home.js","panels/Card.js","panels/Tinder.js","panels/Find.js","App.js","index.js"],"names":["Home","tusa_data","this","props","state","id","title","name","users","map","item","first_name","last_name","join","tracks","index","key","before","play_now","fill","onClick","play","track_name","artist","length","art","className","href","choose","style","textDecoration","role","aria-label","aria-labelledby","fontSize","marginLeft","src","now_stream","onEnded","nextSong","React","Component","Card","i","x","y","rot","scale","trans","bind","data","lang","username","pics","text","div","transform","interpolate","pic","alt","size","component","marginTop","to","Math","random","delay","from","r","s","Deck","pr","useState","Set","gone","useSprings","matches","set","useGesture","args","down","xDelta","delta","xDir","distance","direction","velocity","dir","add","isGone","has","window","innerWidth","undefined","config","friction","tension","setTimeout","clear","position","osname","platform","Find","search","onChange","setState","left","IOS","value","user","color","onChoose","checked","check","toLowerCase","filter","indexOf","App","e","Number","currentTarget","go","activePanel","dataset","popout","onStoryChange","activeStory","story","array","temporaryValue","randomIndex","currentIndex","floor","shuffle","document","getElementById","pause","getMusic","song_name","index_song","fetch","then","response","json","preview","catch","err","console","log","list","link_index","links","disabled_tinder","disabled_party","urlParams1","URLSearchParams","location","group_id","get","user_id","language_code","tabbar","selected","data-story","disableds","Tinder","ReactDOM","render"],"mappings":"upBA0DeA,E,iLAhDJ,IAAD,OACDC,EAAaC,KAAKC,MAAMC,MAAxBH,UACP,OACC,kBAAC,IAAD,CAAOI,GAAIH,KAAKC,MAAME,IACrB,kBAAC,IAAD,gDACY,kBAAC,IAAD,CAAOC,MAAOL,GAAaA,EAAUM,MAK7BN,GAAa,kBAAC,IAAD,oDACCA,EAAUO,MAAMC,KAAI,SAACC,GAAD,OAAUA,EAAKC,YAAiC,OAAnBD,EAAKE,UAAsB,IAAMF,EAAKE,UAAa,OAAKC,KAAK,QAOpI,kBAAC,IAAD,KAEQX,KAAKC,MAAMC,MAAMU,QAAUZ,KAAKC,MAAMC,MAAMU,OAAOL,KAAI,SAACC,EAAMK,GAAP,OACnD,kBAAC,IAAD,CACIC,IAAKD,EACLV,GAAIU,EACJE,OAAQP,EAAKQ,SAAW,kBAAC,IAAD,CAAaC,KAAK,SAAY,kBAAC,IAAD,CAAYA,KAAK,SACvEC,QAAS,EAAKjB,MAAMkB,MACtBX,EAAKY,YAAcZ,EAAKa,OAAOC,OAAS,EAAM,MAAQd,EAAKa,OAAOd,KAAI,SAACgB,GAAD,OAASA,EAAIlB,QAAMM,KAAK,MAAS,SAIrH,yBAAKa,UAAU,YACZ,uBAAGC,KAAK,WAAWP,QAASlB,KAAKC,MAAMyB,OAAQC,MAAO,CAACC,eAAgB,SACnE,0BAAMC,KAAK,MAAMC,aAAW,MAAMC,kBAAgB,MAAMJ,MAAO,CAACK,SAAU,OAAQC,WAAY,SAA9F,kBAGP,kBAAC,IAAD,CACEC,IAAKlC,KAAKC,MAAMC,MAAMiC,WACtBhC,GAAG,QACHiC,QAASpC,KAAKC,MAAMoC,gB,GAvCnBC,IAAMC,W,4DC+CVC,E,iLAhDH,IAAD,EAC4CxC,KAAKC,MAAhDwC,EADD,EACCA,EAAGC,EADJ,EACIA,EAAGC,EADP,EACOA,EAAGC,EADV,EACUA,IAAKC,EADf,EACeA,MAAOC,EADtB,EACsBA,MAAOC,EAD7B,EAC6BA,KAD7B,IACmCC,KACQP,GAA1CpC,EAFD,EAECA,KAAM4C,EAFP,EAEOA,KAAMC,EAFb,EAEaA,SAAgBC,GAF7B,EAEuBC,KAFvB,EAE6BD,MAEpC,OACE,kBAAC,IAASE,IAAV,CACEvC,IAAK2B,EACLd,MAAO,CACL2B,UAAWC,YACT,CAACb,EAAGC,IACJ,SAACD,EAAGC,GAAJ,4BAAyBD,EAAzB,cAAgCC,EAAhC,cAIJ,kBAAC,IAASU,IAAV,iBACMN,EAAKN,GADX,CAEEd,MAAO,CACL2B,UAAWC,YAAY,CAACX,EAAKC,GAAQC,MAGvC,yBAAKtB,UAAU,QACb,kBAAC,IAAD,KACG2B,EAAK5C,KAAI,SAACiD,EAAK3C,GAAN,OAER,yBAAKqB,IAAKsB,EAAK1C,IAAKD,EAAO4C,IAAI,uBAGnC,4BAAKpD,GAEJ4C,GAAQ,yCAAeA,GAExB,kBAAC,IAAD,CAAQS,KAAK,KAAKC,UAAU,IAAIlC,KAAK,+BAArC,qGACA,kBAAC,IAAD,CAAQE,MAAO,CAACiC,UAAW,OAAQF,KAAK,KAAKC,UAAU,IAAIlC,KAAM,qBAAqByB,GAAtF,2D,GAjCOZ,IAAMC,W,8NCIzB,IAAMsB,EAAK,SAAApB,GAAC,MAAK,CACfC,EAAG,EACHC,GAAQ,GAALF,EACHI,MAAO,EACPD,IAA2B,GAAhBkB,KAAKC,SAAV,GACNC,MAAW,IAAJvB,IAEHwB,EAAO,SAAAxB,GAAC,MAAK,CAAEG,IAAK,EAAGC,MAAO,IAAKF,GAAI,MAEvCG,EAAQ,SAACoB,EAAGC,GAAJ,2DACkCD,EAC5C,GAFU,wBAEQA,EAFR,sBAEuBC,EAFvB,MAyECC,MArEf,SAAcC,GAAK,IAAD,EACDC,oBAAS,kBAAM,IAAIC,OAA3BC,EADS,sBAGKC,YAAWJ,EAAGnE,MAAMwE,QAAQpD,QAAQ,SAAAmB,GAAC,O,yVAAA,IACrDoB,EAAGpB,GADkD,CAExDwB,KAAMA,EAAKxB,QALG,mBAGTxC,EAHS,KAGF0E,EAHE,KAQV5B,EAAO6B,aACX,YAOO,IANE/D,EAMH,cANJgE,KAMI,MALJC,EAKI,EALJA,KACQC,EAIJ,cAJJC,MAII,MAFQC,GAER,EAHJC,SAGI,cAFJC,UAEI,OADJC,EACI,EADJA,SAIMC,EAAMJ,EAAO,GAAK,EAAI,GAEvBH,GAJWM,EAAW,IAILZ,EAAKc,IAAIzE,GAE/B8D,GAAI,SAAAlC,GACF,GAAI5B,IAAU4B,EAAd,CACA,IAAM8C,EAASf,EAAKgB,IAAI3E,GAOxB,MAAO,CACL6B,EANQ6C,GAAU,IAAME,OAAOC,YAAcL,EAAMP,EAAOC,EAAS,EAOnEnC,IALUmC,EAAS,KAAOQ,EAAe,GAANF,EAAWD,EAAW,GAMzDvC,MAJYiC,EAAO,IAAM,EAKzBd,WAAO2B,EACPC,OAAQ,CAAEC,SAAU,GAAIC,QAAShB,EAAO,IAAMS,EAAS,IAAM,UAI5DT,GAAQN,EAAKd,OAASW,EAAGnE,MAAMwE,QAAQpD,QAC1CyE,YAAW,kBAAMvB,EAAKwB,SAAWrB,GAAI,SAAAlC,GAAC,OAAIoB,EAAGpB,QAAK,QAIxD,OACE,yBAAKjB,UAAU,UACb,gCACE,wBAAIG,MAAO,CACTsE,SAAU,aADZ,2KAIDhG,EAAMM,KAAI,WAAuBkC,GAAvB,IAAGC,EAAH,EAAGA,EAAGC,EAAN,EAAMA,EAAGC,EAAT,EAASA,IAAKC,EAAd,EAAcA,MAAd,OACX,kBAAC,EAAD,CACE/B,IAAK2B,EACLA,EAAGA,EACHC,EAAGA,EACHC,EAAGA,EACHC,IAAKA,EACLC,MAAOA,EACPC,MAAOA,EACPE,KAAMqB,EAAGnE,MAAMwE,QACf3B,KAAMA,S,2CCjFRmD,EAASC,cAyCAC,E,YAtCb,WAAYnG,GAAO,IAAD,8BAChB,4CAAMA,KACDC,MAAQ,CACXmG,OAAQ,IAEV,EAAKC,SAAW,EAAKA,SAASvD,KAAd,gBALA,E,sEAQRsD,GAAUrG,KAAKuG,SAAS,CAAEF,a,+BAO3B,IAAD,OACR,OACC,kBAAC,IAAD,CAAOlG,GAAIH,KAAKC,MAAME,IACrB,kBAAC,IAAD,CAAaqG,KAAM,kBAAC,IAAD,CAActF,QAAS,WAC1B,EAAKjB,MAAMyB,WACXwE,IAAWO,IAAM,kBAAC,IAAD,MAAwB,kBAAC,IAAD,QAFzD,mFAKY,kBAAC,IAAD,CAAQC,MAAO1G,KAAKE,MAAMmG,OAAQC,SAAUtG,KAAKsG,WACjD,kBAAC,IAAD,KACCtG,KAAKM,MAAMgB,OAAS,GACjBtB,KAAKM,MAAMC,KAAI,SAACoG,EAAM9F,GAAP,OACX,kBAAC,IAAD,CAAUc,MAAO,CAACiF,MAAO,SAAUN,SAAU,EAAKrG,MAAM4G,SAAU1G,GAAIU,EAAOiG,QAASH,EAAKI,MAAOjG,IAAK6F,EAAKxG,IACxG,2BAAIwG,EAAKzD,kB,4BAjBjC,IAAMmD,EAASrG,KAAKE,MAAMmG,OAAOW,cACjC,OAAOhH,KAAKC,MAAMC,MAAMI,MAAM2G,QAAO,SAACN,GAAD,OAAUA,EAAKzD,SAAS8D,cAAcE,QAAQb,IAAW,S,GAb/E/D,IAAMC,W,oCC0OV4E,EAlOf,YACC,WAAYlH,GAAQ,IAAD,8BAClB,4CAAMA,KAmEP4G,SAAW,SAAAO,GACV,IAAI9G,EAAQ,EAAKJ,MAAMI,MACvBA,EAAM+G,OAAOD,EAAEE,cAAcnH,KAAK4G,OAASzG,EAAM+G,OAAOD,EAAEE,cAAcnH,KAAK4G,MAC7E,EAAKR,SAAS,CAACjG,WAvEG,EA0EnBiH,GAAK,SAAAH,GACJ,EAAKb,SAAS,CAACiB,YAAaJ,EAAEE,cAAcG,QAAQ5D,MA3ElC,EA8EnB6D,OAAS,SAAAA,GACR,EAAKnB,SAAS,CAACmB,YA/EG,EAkFnBC,cAAgB,SAAAP,GACf,EAAKb,SAAS,CAACqB,YAAaR,EAAEE,cAAcG,QAAQI,MAAOL,YAAa,UAnFtD,EAsFnB9F,OAAS,WAmBR,EAAK6E,SAAS,CAAC3F,OAlBf,SAAiBkH,GAIhB,IAHA,IAAiCC,EAAgBC,EAA7CC,EAAeH,EAAMxG,OAGlB,IAAM2G,GAGXD,EAAclE,KAAKoE,MAAMpE,KAAKC,SAAWkE,GAIzCF,EAAiBD,EAHjBG,GAAgB,GAIhBH,EAAMG,GAAgBH,EAAME,GAC5BF,EAAME,GAAeD,EAGvB,OAAOD,EAEeK,CAAQ,EAAKjI,MAAMU,WAzGxB,EAgInBO,KAAO,SAAAiG,GACN,EAAKb,SAAS,CACb3F,OAAQ,EAAKV,MAAMU,OAAOL,KAAI,SAACC,EAAMK,GAapC,OAZAuH,SAASC,eAAe,SAASC,QAC9BzH,IAAUwG,OAAOD,EAAEE,cAAcnH,KACnCK,EAAKQ,UAAYR,EAAKQ,SACnBR,EAAKQ,SACP,EAAKuH,SAAS/H,EAAKY,WAAa,IAAMZ,EAAKa,OAAOd,KAAI,SAACgB,GAAD,OAASA,EAAIlB,QAAMM,KAAK,MAAOE,GAGrFuH,SAASC,eAAe,SAASC,SAGlC9H,EAAKQ,UAAW,EAEVR,QA/IS,EAoJnB+H,SAAW,SAACC,EAAWC,GACtBC,MAAM,qDAAqDF,EAAW,CACrE,OAAU,MACV,QAAW,CACV,kBAAmB,mCACnB,iBAAkB,wDAGnBG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAA3F,GACL,EAAKuD,SAAS,CAACpE,WAAYa,EAAKA,KAAK,GAAG8F,QAASL,eACjDL,SAASC,eAAe,SAASlH,UAEjC4H,OAAM,SAAAC,GACNC,QAAQC,IAAIF,OAlKK,EAsKnB3G,SAAW,WACP,EAAKnC,MAAMU,OAAOU,OAAO,EAAI,EAAKpB,MAAMuI,WAAW,EACrD,EAAKlC,SAAS,CACb3F,OAAQ,EAAKV,MAAMU,OAAOL,KAAI,SAACC,GAE9B,OADAA,EAAKQ,UAAW,EACTR,OAIT,EAAK+F,SAAS,CACb3F,OAAQ,EAAKV,MAAMU,OAAOL,KAAI,SAACC,EAAMK,GAYpC,OAXAuH,SAASC,eAAe,SAASC,QAC9BzH,IAAUwG,OAAO,EAAKnH,MAAMuI,WAAW,IACzCjI,EAAKQ,UAAYR,EAAKQ,SACnBR,EAAKQ,SACP,EAAKuH,SAAS/H,EAAKY,WAAa,IAAMZ,EAAKa,OAAOd,KAAI,SAACgB,GAAD,OAASA,EAAIlB,QAAMM,KAAK,MAAO,EAAKT,MAAMuI,WAAW,GAE3GL,SAASC,eAAe,SAASC,SAGlC9H,EAAKQ,UAAW,EAEVR,QA1LV,EAAKN,MAAQ,CACZiJ,KAAM,GACNvB,YAAa,QACbJ,YAAa,OACblH,MAAO,GACP6B,WAAY,GACZiH,WAAY,EACZC,MAAO,CAAC,4LAA6L,kHACrM3B,OAAQ,kBAAC,IAAD,MACR4B,iBAAiB,EACjBC,gBAAgB,GAZC,EADpB,iFAiBsB,IAAD,OACfC,EAAa,IAAIC,gBAAgBhE,OAAOiE,SAASrD,QACjDsD,EAAWH,EAAWI,IAAI,YAC1BC,EAAUL,EAAWI,IAAI,WAC1BD,EACFjB,MAAM,2FAAD,OAA4FiB,EAA5F,sBAA0H,CAC7H,OAAU,MACV,QAAW,CACT,cAAiB,oDAGpBhB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAA5I,GAAS,OAAI,EAAKwG,SAAS,CAACxG,YAAWwJ,gBAAgB,EAAO3I,OAAQb,EAAUa,OAAQ8G,OAAQ,UACrGqB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,MAENa,GACRnB,MAAM,oFAAD,OAAqFmB,GAAW,CACnG,OAAU,MACV,QAAW,CACT,cAAiB,oDAGpBlB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAjE,GAAO,OAAI,EAAK6B,SAAS,CAAC7B,QAASA,EAAQuC,QAAO,SAACzG,GAAD,OAAUA,EAAK0C,YAAU3C,KAAI,SAACC,GACrF,MAAO,CACNH,KAAMG,EAAKC,YAAcD,EAAKE,UAAa,IAAKF,EAAKE,UAAa,IAClEuC,KAAMzC,EAAKsJ,cACX3G,KAAM,CAAC,qEAAqE3C,EAAK0C,UACjFA,SAAU1C,EAAK0C,aAEboG,iBAAiB,EAAO1B,YAAa,SAAUF,OAAQ,UAC1DqB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,QAlDjB,+BAoME,OACC,kBAAC,IAAD,CAAMpB,YAAa5H,KAAKE,MAAM0H,YAAamC,OAC1C,kBAAC,IAAD,MACG/J,KAAKE,MAAMqJ,gBAAkB,kBAAC,IAAD,CAC/BrI,QAASlB,KAAK2H,cACdqC,SAAqC,UAA3BhK,KAAKE,MAAM0H,YACrBqC,aAAW,QACX7G,KAAK,oDACH,kBAAC,IAAD,QACCpD,KAAKE,MAAMoJ,iBAAmB,kBAAC,IAAD,CAC/BY,WAAS,EACXhJ,QAASlB,KAAK2H,cACdqC,SAAqC,WAA3BhK,KAAKE,MAAM0H,YACrBqC,aAAW,SACX7G,KAAK,wCACH,kBAAC,IAAD,SAGH,kBAAC,IAAD,CAAMjD,GAAG,SAASqH,YAAaxH,KAAKE,MAAMsH,aACzC,kBAAC2C,EAAD,CAAQhK,GAAG,OAAOoH,GAAIvH,KAAKuH,GAAIrH,MAAOF,KAAKE,MAAOiB,KAAMnB,KAAKmB,KAAMkB,SAAUrC,KAAKqC,SAAUX,OAAQ1B,KAAK0B,UAE1G,kBAAC,IAAD,CAAMvB,GAAG,QAAQqH,YAAaxH,KAAKE,MAAMsH,YAAaE,OAAQ1H,KAAKE,MAAMwH,QACxE,kBAAC,EAAD,CAAMvH,GAAG,OAAOoH,GAAIvH,KAAKuH,GAAIrH,MAAOF,KAAKE,MAAOiB,KAAMnB,KAAKmB,KAAMkB,SAAUrC,KAAKqC,SAAUX,OAAQ1B,KAAK0B,SACvG,kBAAC,EAAD,CAAMvB,GAAG,OAAOoH,GAAIvH,KAAKuH,GAAIrH,MAAOF,KAAKE,MAAOwB,OAAQ1B,KAAK0B,OAAQmF,SAAU7G,KAAK6G,iBA3NzF,GAAyBtE,aCJzB6H,IAASC,OAAO,kBAAC,EAAD,MAASjC,SAASC,eAAe,U","file":"static/js/main.046214df.chunk.js","sourcesContent":["import React from 'react';\nimport { Panel, PanelHeader, Cell, List, Div, Group } from '@vkontakte/vkui';\nimport ReactAudioPlayer from 'react-audio-player';\n\nimport './index.css'\n\nimport Icon28Play from '@vkontakte/icons/dist/28/play';\nimport Icon28Pause from '@vkontakte/icons/dist/28/pause';\n\nclass Home extends React.Component {\t\n  render(){\n    let {tusa_data} = this.props.state;\n\t\treturn(\n\t\t\t<Panel id={this.props.id}>\n\t\t\t\t<PanelHeader>🥚Party Playlist 🥚</PanelHeader>\n                <Group title={tusa_data && tusa_data.name}>\n                    {/* <Div>\n                        В группе: @aplinxy9plin, @loxTypoY, @sasha\n                    </Div> */}\n                    {\n                        tusa_data && <Div>\n                            Выбраны: {tusa_data.users.map((item) => item.first_name + (item.last_name !== null ? (\" \" + item.last_name) : \"\")).join(\", \")}\n                        </Div>\n                    }\n                    {/* <Div>\n                        <Button size=\"xl\" color=\"primary\" onClick={this.props.go} data-to=\"find\">Выбрать друзей</Button>\n                    </Div> */}\n                </Group>\n                <List>\n                    {\n                        this.props.state.tracks && this.props.state.tracks.map((item, index) => \n                            <Cell\n                                key={index}\n                                id={index}\n                                before={item.play_now ? <Icon28Pause fill=\"#fff\" /> : <Icon28Play fill=\"#fff\" />}\n                                onClick={this.props.play}\n                            >{item.track_name + (item.artist.length > 0 ? ( \" - \" + item.artist.map((art) => art.name).join(\", \")) : \"\")}</Cell>\n                        )\n                    }\n                </List>\n                <div className=\"play_btn\">\n                   <a href=\"#do_sexy\" onClick={this.props.choose} style={{textDecoration: \"none\"}}>\n                       <span role=\"img\" aria-label=\"yea\" aria-labelledby=\"yea\" style={{fontSize: \"50px\", marginLeft: \"25px\"}}>🎉</span>\n                   </a>\n                </div>\n                <ReactAudioPlayer\n                  src={this.props.state.now_stream}\n                  id=\"audio\"\n                  onEnded={this.props.nextSong}\n                />\n                {/* <audio id=\"audio\" preload=\"none\" onTimeUpdate={() => console.log(\"END123\")}>\n\t\t\t\t    <source src={state.now_stream} type=\"audio/mpeg\" />\n\t\t\t\t</audio> */}\n\t\t\t</Panel>\n\t\t)\n\t}\n}\n\nexport default Home;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { animated, interpolate } from \"react-spring/hooks\";\nimport Carousel from \"nuka-carousel\";\n\nimport Button from '@vkontakte/vkui/dist/components/Button/Button'\n\nclass Card extends React.Component {\n  render() {\n    const { i, x, y, rot, scale, trans, bind, data } = this.props;\n    const { name, lang, username, text, pics } = data[i];\n\n    return (\n      <animated.div\n        key={i}\n        style={{\n          transform: interpolate(\n            [x, y],\n            (x, y) => `translate3d(${x}px,${y}px,0)`\n          )\n        }}\n      >\n        <animated.div\n          {...bind(i)}\n          style={{\n            transform: interpolate([rot, scale], trans)\n          }}\n        >\n          <div className=\"card\">\n            <Carousel>\n              {pics.map((pic, index) => (\n                // https://mysterious-plateau-80675.herokuapp.com/telega_ava.php?img=aplinxy9plin\n                <img src={pic} key={index} alt=\"profilePicture\" />\n              ))}\n            </Carousel>\n            <h2>{name}</h2>\n            {/* <h2>{age}</h2> */}\n            {lang && <h5>Language: {lang}</h5>}\n            {/* <h5>{text}</h5> */}\n            <Button size=\"xl\" component=\"a\" href=\"https://teleg.run/mts_music\">Получить промокод</Button>\n            <Button style={{marginTop: \"5px\"}} size=\"xl\" component=\"a\" href={\"https://teleg.run/\"+username}>Написать</Button>\n          </div>\n        </animated.div>\n      </animated.div>\n    );\n  }\n}\n\nCard.propTypes = {\n  name: PropTypes.string,\n  age: PropTypes.number,\n  distance: PropTypes.string,\n  text: PropTypes.string,\n  pics: PropTypes.array\n};\n\nexport default Card;\n","import React, { useState } from \"react\";\nimport { useSprings } from \"react-spring/hooks\";\nimport { useGesture } from \"react-with-gesture\";\n\n\n\nimport Card from \"./Card\";\nimport data from \"../data.js\";\n\nimport \"./index.css\";\n\nconst to = i => ({\n  x: 0,\n  y: i * -10,\n  scale: 1,\n  rot: -10 + Math.random() * 20,\n  delay: i * 100\n});\nconst from = i => ({ rot: 0, scale: 1.5, y: -1000 });\n\nconst trans = (r, s) =>\n  `perspective(1500px) rotateX(30deg) rotateY(${r /\n    10}deg) rotateZ(${r}deg) scale(${s})`;\n\nfunction Deck(pr) {\n  const [gone] = useState(() => new Set());\n\n  const [props, set] = useSprings(pr.state.matches.length, i => ({\n    ...to(i),\n    from: from(i)\n  }));\n\n  const bind = useGesture(\n    ({\n      args: [index],\n      down,\n      delta: [xDelta],\n      distance,\n      direction: [xDir],\n      velocity\n    }) => {\n      const trigger = velocity > 0.2;\n\n      const dir = xDir < 0 ? -1 : 1;\n\n      if (!down && trigger) gone.add(index);\n\n      set(i => {\n        if (index !== i) return;\n        const isGone = gone.has(index);\n\n        const x = isGone ? (200 + window.innerWidth) * dir : down ? xDelta : 0;\n\n        const rot = xDelta / 100 + (isGone ? dir * 10 * velocity : 0);\n\n        const scale = down ? 1.1 : 1;\n        return {\n          x,\n          rot,\n          scale,\n          delay: undefined,\n          config: { friction: 50, tension: down ? 800 : isGone ? 200 : 500 }\n        };\n      });\n\n      if (!down && gone.size === pr.state.matches.length)\n        setTimeout(() => gone.clear() || set(i => to(i)), 600);\n    }\n  );\n\n  return (\n    <div className=\"tinder\">\n      <center>\n        <h1 style={{\n          position: \"absolute\"\n        }}>Ваши музыкальные вкусы совпали!</h1>\n      </center>\n      {props.map(({ x, y, rot, scale }, i) => (\n      <Card\n        key={i}\n        i={i}\n        x={x}\n        y={y}\n        rot={rot}\n        scale={scale}\n        trans={trans}\n        data={pr.state.matches}\n        bind={bind}\n      />))}\n    </div>\n  );\n}\n\nexport default Deck;\n","import React from 'react';\nimport { Panel, PanelHeader, FormLayout, Checkbox, Search, HeaderButton, platform, IOS } from '@vkontakte/vkui';\n\nimport Icon24Back from '@vkontakte/icons/dist/24/back'\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back'\n\nconst osname = platform()\n\nclass Find extends React.Component {\t\n  constructor(props){\n    super(props);\n    this.state = { \n      search: '',\n    }\n    this.onChange = this.onChange.bind(this)\n  }\n\n  onChange (search) { this.setState({ search }); }\n\n  get users () {\n    const search = this.state.search.toLowerCase();\n    return this.props.state.users.filter((user) => user.username.toLowerCase().indexOf(search) > -1);\n  }\n\n  render(){\n\t\treturn(\n\t\t\t<Panel id={this.props.id}>\n\t\t\t\t<PanelHeader left={<HeaderButton onClick={() => {\n                    this.props.choose()\n                }}>{osname === IOS ? <Icon28ChevronBack /> : <Icon24Back />}</HeaderButton>}>\n                    Выбрать друзей\n                </PanelHeader>\n                <Search value={this.state.search} onChange={this.onChange}/>\n                <FormLayout>\n                {this.users.length > 0 &&\n                    this.users.map((user, index) => \n                        <Checkbox style={{color: \"white\"}} onChange={this.props.onChoose} id={index} checked={user.check} key={user.id}>\n                            <b>{user.username}</b>\n                        </Checkbox>\n                    )\n                }\n                </FormLayout>\n\t\t\t</Panel>\n\t\t)\n\t}\n}\n\nexport default Find;\n","import React, { Component } from 'react'\n\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport Epic from '@vkontakte/vkui/dist/components/Epic/Epic';\nimport Tabbar from '@vkontakte/vkui/dist/components/Tabbar/Tabbar';\nimport TabbarItem from '@vkontakte/vkui/dist/components/TabbarItem/TabbarItem';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Home from './panels/Home'\nimport Tinder from './panels/Tinder'\nimport Find from './panels/Find'\nimport { ScreenSpinner } from '@vkontakte/vkui';\n\nimport Icon28Newsfeed from '@vkontakte/icons/dist/28/newsfeed'\nimport Icon28Music from '@vkontakte/icons/dist/28/music';\n\nexport class App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tlist: [],\n\t\t\tactiveStory: \"party\",\n\t\t\tactivePanel: \"home\",\n\t\t\tusers: [],\n\t\t\tnow_stream: \"\",\n\t\t\tlink_index: 0,\n\t\t\tlinks: [\"https://squanchymusic-parser.herokuapp.com/get_info?link=https://music.apple.com/ru/playlist/%D0%B4%D1%80%D0%B0%D0%BC-%D0%BD-%D0%B1%D1%8D%D0%B9%D1%81/pl.7a75d4e444fb4b3583ec9d48a2b0eef6\", \"https://squanchymusic-parser.herokuapp.com/get_info?link=https://music.yandex.ru/users/aplinnikita/playlists/3\"],\n\t\t\tpopout: <ScreenSpinner />,\n\t\t\tdisabled_tinder: true,\n\t\t\tdisabled_party: true\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tvar urlParams1 = new URLSearchParams(window.location.search);\n\t\tvar group_id = urlParams1.get('group_id');\n\t\tvar user_id = urlParams1.get('user_id');\n\t\tif(group_id){\n\t\t\tfetch(`https://squanchymusic-backend.herokuapp.com/squanchy/groups/generate_playlist/?group_id=${group_id}&platform=telegram`, {\n\t\t\t  \"method\": \"GET\",\n\t\t\t  \"headers\": {\n\t\t\t    \"authorization\": \"Token b45ae4cecf894c51e45a624c5cad2e8349404c2b\"\n\t\t\t  }\n\t\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(tusa_data => this.setState({tusa_data, disabled_party: false, tracks: tusa_data.tracks, popout: null}))\n\t\t\t.catch(err => {\n\t\t\t  console.log(err);\n\t\t\t});\n\t\t}else if(user_id){\n\t\t\tfetch(`https://squanchymusic-backend.herokuapp.com/squanchy/users/find_similar/?user_id=${user_id}`, {\n\t\t\t  \"method\": \"GET\",\n\t\t\t  \"headers\": {\n\t\t\t    \"authorization\": \"Token b45ae4cecf894c51e45a624c5cad2e8349404c2b\"\n\t\t\t  }\n\t\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(matches => this.setState({matches: matches.filter((item) => item.username).map((item) => {\n\t\t\t\treturn {\n\t\t\t\t\tname: item.first_name + (item.last_name ? (\" \" +item.last_name) : \"\"),\n\t\t\t\t\tlang: item.language_code,\n\t\t\t\t\tpics: [\"https://mysterious-plateau-80675.herokuapp.com/telega_ava.php?img=\"+item.username],\n\t\t\t\t\tusername: item.username\n\t\t\t\t}\n\t\t\t}), disabled_tinder: false, activeStory: \"tinder\", popout: null}))\n\t\t\t.catch(err => {\n\t\t\t  console.log(err);\n\t\t\t});\n\t\t}\n\t\t// fetch(\"https://squanchymusic-backend.herokuapp.com/users/\", {\n\t\t//   \"method\": \"GET\",\n\t\t//   \"headers\": {\n\t\t// \t\"authorization\": \"Token b45ae4cecf894c51e45a624c5cad2e8349404c2b\"\n\t\t//   }\n\t\t// })\n\t\t// .then(response => response.json())\n\t\t// .then(data => this.setState({\n\t\t// \tusers: data.filter((item) => item.username),\n\t\t// \tpopout: null\n\t\t// }))\n\t\t// .catch(err => {\n\t\t//   console.log(err);\n\t\t// });\n\t}\n\n\tonChoose = e => {\n\t\tvar users = this.state.users\n\t\tusers[Number(e.currentTarget.id)].check = !users[Number(e.currentTarget.id)].check\n\t\tthis.setState({users})\n\t}\n\n\tgo = e => {\n\t\tthis.setState({activePanel: e.currentTarget.dataset.to});\n\t};\n\n\tpopout = popout => {\n\t\tthis.setState({popout})\n\t}\n\n\tonStoryChange = e => {\n\t\tthis.setState({activeStory: e.currentTarget.dataset.story, activePanel: \"home\"})\n\t}\n\n\tchoose = ( ) => {\n\t\tfunction shuffle(array) {\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex;\n\t\t\t\n\t\t\t// While there remain elements to shuffle...\n\t\t\twhile (0 !== currentIndex) {\n\t\t\t\n\t\t\t  // Pick a remaining element...\n\t\t\t  randomIndex = Math.floor(Math.random() * currentIndex);\n\t\t\t  currentIndex -= 1;\n\t\t\t\n\t\t\t  // And swap it with the current element.\n\t\t\t  temporaryValue = array[currentIndex];\n\t\t\t  array[currentIndex] = array[randomIndex];\n\t\t\t  array[randomIndex] = temporaryValue;\n\t\t\t}\n\t\t\t\n\t\t\treturn array;\n\t\t}\n\t\tthis.setState({tracks: shuffle(this.state.tracks)})\n\t\t// if(this.state.users.filter((item) => item.check).length > 0){\n\t\t\t// var self = this;\n\t\t\t// this.setState({popout: <ScreenSpinner />, activePanel: \"home\"})\n\t\t\t// setTimeout(() => {\n\t\t\t// \tself.setState({popout: null})\n\t\t\t// }, 2000);\n\t\t\t// fetch(this.state.links[this.state.link_index])\n\t\t\t// .then(response => response.json())\n\t\t\t// .then(data => {\n\t\t\t// \tvar tracks = data.map((item) => {\n\t\t\t// \t\treturn {name: item.track_name + \" \" + item.artist[0].name}\n\t\t\t// \t});\n\t\t\t// \tthis.setState({popout: null, tracks, link_index: this.state.link_index === 0 ? 1 : 0})\n\t\t\t// })\n\t\t\t// .catch(err => {\n\t\t\t// \tconsole.log(err);\n\t\t\t// })\n\t\t// }else{\n\t\t// \tthis.setState({activePanel: \"home\"})\n\t\t// }\n\t}\n\n\tplay = e => {\n\t\tthis.setState({\n\t\t\ttracks: this.state.tracks.map((item, index) => {\n\t\t\t\tdocument.getElementById('audio').pause();\n\t\t\t\tif(index === Number(e.currentTarget.id)){\n\t\t\t\t\titem.play_now = !item.play_now\n\t\t\t\t\tif(item.play_now){\n\t\t\t\t\t\tthis.getMusic(item.track_name + \" \" + item.artist.map((art) => art.name).join(\", \"), index)\n\t\t\t\t\t}else{\n\t\t\t\t\t\t// this.getMusic(item.name)\n\t\t\t\t\t\tdocument.getElementById('audio').pause();\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\titem.play_now = false\n\t\t\t\t}\n\t\t\t\treturn item\n\t\t\t})\n\t\t})\n\t}\n\n\tgetMusic = (song_name, index_song) => {\n\t\tfetch(\"https://deezerdevs-deezer.p.rapidapi.com/search?q=\"+song_name, {\n\t\t\t\"method\": \"GET\",\n\t\t\t\"headers\": {\n\t\t\t\t\"x-rapidapi-host\": \"deezerdevs-deezer.p.rapidapi.com\",\n\t\t\t\t\"x-rapidapi-key\": \"9608457de2msh39bd68eedabbaa1p1ab241jsn577c4aa2aac8\"\n\t\t\t}\n\t\t})\n\t\t.then(response => response.json())\n\t\t.then(data => {\n\t\t\tthis.setState({now_stream: data.data[0].preview, index_song})\n\t\t\tdocument.getElementById('audio').play();\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err);\n\t\t});\n\t}\n\n\tnextSong = ( ) => {\n\t\tif(this.state.tracks.length-1 < this.state.index_song+1){\n\t\t\tthis.setState({\n\t\t\t\ttracks: this.state.tracks.map((item) => {\n\t\t\t\t\titem.play_now = false\n\t\t\t\t\treturn item\n\t\t\t\t})\n\t\t\t})\n\t\t}else{\n\t\t\tthis.setState({\n\t\t\t\ttracks: this.state.tracks.map((item, index) => {\n\t\t\t\t\tdocument.getElementById('audio').pause();\n\t\t\t\t\tif(index === Number(this.state.index_song+1)){\n\t\t\t\t\t\titem.play_now = !item.play_now\n\t\t\t\t\t\tif(item.play_now){\n\t\t\t\t\t\t\tthis.getMusic(item.track_name + \" \" + item.artist.map((art) => art.name).join(\", \"), this.state.index_song+1)\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tdocument.getElementById('audio').pause();\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\titem.play_now = false\n\t\t\t\t\t}\n\t\t\t\t\treturn item\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}\n\t\n\trender() {\n\t\treturn(\n\t\t\t<Epic activeStory={this.state.activeStory} tabbar={\n\t\t\t\t<Tabbar>\n\t\t\t\t\t{!this.state.disabled_party && <TabbarItem\n\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\tselected={this.state.activeStory === 'party'}\n\t\t\t\t\tdata-story=\"party\"\n\t\t\t\t\ttext=\"ПАТИХАРД\"\n\t\t\t\t  ><Icon28Music /></TabbarItem>}\n\t\t\t\t  {!this.state.disabled_tinder && <TabbarItem\n\t\t\t\t  \tdisableds\n\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\tselected={this.state.activeStory === 'tinder'}\n\t\t\t\t\tdata-story=\"tinder\"\n\t\t\t\t\ttext=\"Тиндер\"\n\t\t\t\t  ><Icon28Newsfeed /></TabbarItem>}\n\t\t\t\t</Tabbar>\n\t\t\t}>\n\t\t\t\t<View id=\"tinder\" activePanel={this.state.activePanel}>\n\t\t\t\t\t<Tinder id=\"home\" go={this.go} state={this.state} play={this.play} nextSong={this.nextSong} choose={this.choose} />\n\t\t\t\t</View>\n\t\t\t\t<View id=\"party\" activePanel={this.state.activePanel} popout={this.state.popout}>\n\t\t\t\t\t<Home id=\"home\" go={this.go} state={this.state} play={this.play} nextSong={this.nextSong} choose={this.choose} />\n\t\t\t\t\t<Find id=\"find\" go={this.go} state={this.state} choose={this.choose} onChoose={this.onChoose} />\n\t\t\t\t</View>\n\t\t\t</Epic>\n\t\t)\n\t}\n}\n\nexport default App","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}
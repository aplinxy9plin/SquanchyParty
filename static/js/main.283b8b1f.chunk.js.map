{"version":3,"sources":["panels/Home.js","panels/Find.js","App.js","index.js"],"names":["Home","state","this","props","id","users","filter","item","check","length","map","name","join","size","color","onClick","go","data-to","tracks","index","key","before","play_now","fill","play","className","href","choose","style","textDecoration","role","aria-label","aria-labelledby","fontSize","marginLeft","src","now_stream","onEnded","nextSong","React","Component","osname","platform","Find","search","onChange","bind","setState","left","IOS","value","user","onChoose","checked","toLowerCase","indexOf","App","e","Number","currentTarget","activePanel","dataset","to","popout","onStoryChange","activeStory","story","self","setTimeout","fetch","links","link_index","then","response","json","data","track_name","artist","catch","err","console","log","document","getElementById","pause","getMusic","song_name","index_song","preview","list","ReactDOM","render"],"mappings":"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","file":"static/js/main.283b8b1f.chunk.js","sourcesContent":["import React from 'react';\nimport { Panel, PanelHeader, Button, Cell, List, Div, Group } from '@vkontakte/vkui';\nimport ReactAudioPlayer from 'react-audio-player';\n\nimport './index.css'\n\nimport Icon28Play from '@vkontakte/icons/dist/28/play';\nimport Icon28Pause from '@vkontakte/icons/dist/28/pause';\n\nclass Home extends React.Component {\t\n  render(){\n    let {state} = this.props\n\t\treturn(\n\t\t\t<Panel id={this.props.id}>\n\t\t\t\t<PanelHeader>–ü–æ—Å–∫–≤–æ–Ω4–∏–º?</PanelHeader>\n                <Group>\n                    {\n                        state.users.filter((item) => item.check).length > 0 && <Div>\n                            –í—ã–±—Ä–∞–Ω—ã: {state.users.filter((item) => item.check).map((item) => item.name).join(\", \")}\n                        </Div>\n                    }\n                    <Div>\n                        <Button size=\"xl\" color=\"primary\" onClick={this.props.go} data-to=\"find\">–í—ã–±—Ä–∞—Ç—å –¥—Ä—É–∑–µ–π</Button>\n                    </Div>\n                </Group>\n                <List>\n                    {\n                        state.tracks && state.tracks.map((item, index) => \n                            <Cell\n                                key={index}\n                                id={index}\n                                before={item.play_now ? <Icon28Pause fill=\"#fff\" /> : <Icon28Play fill=\"#fff\" />}\n                                onClick={this.props.play}\n                            >{item.name}</Cell>\n                        )\n                    }\n                </List>\n                {\n                    state.users && <div className=\"play_btn\">\n                       <a href=\"#do_sexy\" onClick={this.props.choose} style={{textDecoration: \"none\"}}>\n                           <span role=\"img\" aria-label=\"yea\" aria-labelledby=\"yea\" style={{fontSize: \"50px\", marginLeft: \"25px\"}}>üéâ</span>\n                       </a>\n                    </div>\n                }\n                <ReactAudioPlayer\n                  src={state.now_stream}\n                  id=\"audio\"\n                  onEnded={this.props.nextSong}\n                />\n                {/* <audio id=\"audio\" preload=\"none\" onTimeUpdate={() => console.log(\"END123\")}>\n\t\t\t\t    <source src={state.now_stream} type=\"audio/mpeg\" />\n\t\t\t\t</audio> */}\n\t\t\t</Panel>\n\t\t)\n\t}\n}\n\nexport default Home;\n","import React from 'react';\nimport { Panel, PanelHeader, FormLayout, Checkbox, Search, HeaderButton, platform, IOS } from '@vkontakte/vkui';\n\nimport Icon24Back from '@vkontakte/icons/dist/24/back'\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back'\n\nconst osname = platform()\n\nclass Find extends React.Component {\t\n  constructor(props){\n    super(props);\n    this.state = { \n      search: ''\n    }\n    this.onChange = this.onChange.bind(this)\n  }\n  onChange (search) { this.setState({ search }); }\n\n  get users () {\n    const search = this.state.search.toLowerCase();\n    return this.props.state.users.filter((user) => user.name.toLowerCase().indexOf(search) > -1);\n  }\n\n  render(){\n\t\treturn(\n\t\t\t<Panel id={this.props.id}>\n\t\t\t\t<PanelHeader left={<HeaderButton onClick={() => {\n                    this.props.choose()\n                }}>{osname === IOS ? <Icon28ChevronBack /> : <Icon24Back />}</HeaderButton>}>\n                    –í—ã–±—Ä–∞—Ç—å –¥—Ä—É–∑–µ–π\n                </PanelHeader>\n                <Search value={this.state.search} onChange={this.onChange}/>\n                <FormLayout>\n                {this.users.length > 0 &&\n                    this.users.map((user, index) => \n                        <Checkbox style={{color: \"white\"}} onChange={this.props.onChoose} id={index} checked={user.check} key={user.id}>\n                            <b>{user.name}</b>\n                        </Checkbox>\n                    )\n                }\n                </FormLayout>\n\t\t\t</Panel>\n\t\t)\n\t}\n}\n\nexport default Find;\n","import React, { Component } from 'react'\n\nimport View from '@vkontakte/vkui/dist/components/View/View';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Home from './panels/Home'\nimport Find from './panels/Find'\nimport { ScreenSpinner } from '@vkontakte/vkui';\n\nexport class App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tlist: [],\n\t\t\tactivePanel: \"home\",\n\t\t\tusers: [\n\t\t\t\t{\n\t\t\t\t  id: 2281337,\n\t\t\t\t  name: \"aplinxy9plin\",\n\t\t\t\t  check: false\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t  id: 1234,\n\t\t\t\t  name: \"pogozhev\",\n\t\t\t\t  check: false\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t  id: 653463,\n\t\t\t\t  name: \"okhlopkov\",\n\t\t\t\t  check: false\n\t\t\t\t}\n\t\t\t],\n\t\t\tnow_stream: \"\",\n\t\t\tlink_index: 0,\n\t\t\tlinks: [\"https://squanchymusic-parser.herokuapp.com/get_info?link=https://music.apple.com/ru/playlist/%D0%B4%D1%80%D0%B0%D0%BC-%D0%BD-%D0%B1%D1%8D%D0%B9%D1%81/pl.7a75d4e444fb4b3583ec9d48a2b0eef6\", \"https://squanchymusic-parser.herokuapp.com/get_info?link=https://music.yandex.ru/users/aplinnikita/playlists/3\"]\n\t\t}\n\t}\n\n\tonChoose = e => {\n\t\tvar users = this.state.users\n\t\tusers[Number(e.currentTarget.id)].check = !users[Number(e.currentTarget.id)].check\n\t\tthis.setState({users})\n\t}\n\n\tgo = e => {\n\t\tthis.setState({activePanel: e.currentTarget.dataset.to});\n\t};\n\n\tpopout = popout => {\n\t\tthis.setState({popout})\n\t}\n\n\tonStoryChange = e => {\n\t\tthis.setState({activeStory: e.currentTarget.dataset.story, activePanel: \"home\"})\n\t}\n\n\tchoose = ( ) => {\n\t\tvar self = this;\n\t\tthis.setState({popout: <ScreenSpinner />, activePanel: \"home\"})\n\t\tsetTimeout(() => {\n\t\t\tself.setState({popout: null})\n\t\t}, 2000);\n\t\tfetch(this.state.links[this.state.link_index])\n\t\t.then(response => response.json())\n\t\t.then(data => {\n\t\t\tvar tracks = data.map((item) => {\n\t\t\t\treturn {name: item.track_name + \" \" + item.artist[0].name}\n\t\t\t});\n\t\t\tthis.setState({popout: null, tracks, link_index: this.state.link_index === 0 ? 1 : 0})\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err);\n\t\t})\n\t}\n\n\tplay = e => {\n\t\tthis.setState({\n\t\t\ttracks: this.state.tracks.map((item, index) => {\n\t\t\t\tdocument.getElementById('audio').pause();\n\t\t\t\tif(index === Number(e.currentTarget.id)){\n\t\t\t\t\titem.play_now = !item.play_now\n\t\t\t\t\tif(item.play_now){\n\t\t\t\t\t\tthis.getMusic(item.name, index)\n\t\t\t\t\t}else{\n\t\t\t\t\t\t// this.getMusic(item.name)\n\t\t\t\t\t\tdocument.getElementById('audio').pause();\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\titem.play_now = false\n\t\t\t\t}\n\t\t\t\treturn item\n\t\t\t})\n\t\t})\n\t}\n\n\tgetMusic = (song_name, index_song) => {\n\t\tfetch(\"https://deezerdevs-deezer.p.rapidapi.com/search?q=\"+song_name, {\n\t\t\t\"method\": \"GET\",\n\t\t\t\"headers\": {\n\t\t\t\t\"x-rapidapi-host\": \"deezerdevs-deezer.p.rapidapi.com\",\n\t\t\t\t\"x-rapidapi-key\": \"9608457de2msh39bd68eedabbaa1p1ab241jsn577c4aa2aac8\"\n\t\t\t}\n\t\t})\n\t\t.then(response => response.json())\n\t\t.then(data => {\n\t\t\tthis.setState({now_stream: data.data[0].preview, index_song})\n\t\t\tdocument.getElementById('audio').play();\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err);\n\t\t});\n\t}\n\n\tnextSong = ( ) => {\n\t\tif(this.state.tracks.length-1 < this.state.index_song+1){\n\t\t\tthis.setState({\n\t\t\t\ttracks: this.state.tracks.map((item) => {\n\t\t\t\t\titem.play_now = false\n\t\t\t\t\treturn item\n\t\t\t\t})\n\t\t\t})\n\t\t}else{\n\t\t\tthis.setState({\n\t\t\t\ttracks: this.state.tracks.map((item, index) => {\n\t\t\t\t\tdocument.getElementById('audio').pause();\n\t\t\t\t\tif(index === Number(this.state.index_song+1)){\n\t\t\t\t\t\titem.play_now = !item.play_now\n\t\t\t\t\t\tif(item.play_now){\n\t\t\t\t\t\t\tthis.getMusic(item.name, this.state.index_song+1)\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tdocument.getElementById('audio').pause();\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\titem.play_now = false\n\t\t\t\t\t}\n\t\t\t\t\treturn item\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}\n\t\n\trender() {\n\t\treturn(\n\t\t\t<View activePanel={this.state.activePanel} popout={this.state.popout}>\n\t\t\t\t<Home id=\"home\" go={this.go} state={this.state} play={this.play} nextSong={this.nextSong} choose={this.choose} />\n\t\t\t\t<Find id=\"find\" go={this.go} state={this.state} choose={this.choose} onChoose={this.onChoose} />\n\t\t\t</View>\n\t\t)\n\t}\n}\n\nexport default App","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n// –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –≤–∞—à–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–ª–æ –≤ –æ—Ñ—Ñ–ª–∞–π–Ω–µ –∏ –∑–∞–≥—Ä—É–∂–∞–ª–æ—Å—å –±—ã—Å—Ç—Ä–µ–µ,\n// —Ä–∞—Å—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É —Å registerServiceWorker();\n// –ù–æ –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ, —á—Ç–æ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —É —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –µ—Å—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–¥–≤–æ–¥–Ω—ã—Ö –∫–∞–º–Ω–µ–π\n// –ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ —Å–µ—Ä–≤–∏—Å –≤–æ—Ä–∫–µ—Ä—ã –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å —Ç—É—Ç ‚Äî https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}
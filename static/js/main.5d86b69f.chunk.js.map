{"version":3,"sources":["panels/Home.js","panels/Card.js","data.js","panels/Tinder.js","panels/Find.js","App.js","index.js"],"names":["Home","tusa_data","this","props","state","id","title","name","users","map","item","first_name","last_name","join","tracks","index","key","before","play_now","fill","onClick","play","track_name","artist","length","art","className","href","choose","style","textDecoration","role","aria-label","aria-labelledby","fontSize","marginLeft","src","now_stream","onEnded","nextSong","React","Component","Card","i","x","y","rot","scale","trans","bind","data","age","distance","text","pics","div","transform","interpolate","pic","alt","size","component","to","Math","random","delay","from","r","s","Deck","useState","Set","gone","useSprings","set","useGesture","args","down","xDelta","delta","xDir","direction","velocity","dir","add","isGone","has","window","innerWidth","undefined","config","friction","tension","setTimeout","clear","position","osname","platform","Find","search","onChange","setState","left","IOS","value","user","color","onChoose","checked","check","username","toLowerCase","filter","indexOf","App","e","Number","currentTarget","go","activePanel","dataset","popout","onStoryChange","activeStory","story","array","temporaryValue","randomIndex","currentIndex","floor","shuffle","document","getElementById","pause","getMusic","song_name","index_song","fetch","then","response","json","preview","catch","err","console","log","list","link_index","links","group_id","URLSearchParams","location","get","tabbar","selected","data-story","Tinder","ReactDOM","render"],"mappings":"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","file":"static/js/main.5d86b69f.chunk.js","sourcesContent":["import React from 'react';\nimport { Panel, PanelHeader, Cell, List, Div, Group } from '@vkontakte/vkui';\nimport ReactAudioPlayer from 'react-audio-player';\n\nimport './index.css'\n\nimport Icon28Play from '@vkontakte/icons/dist/28/play';\nimport Icon28Pause from '@vkontakte/icons/dist/28/pause';\n\nclass Home extends React.Component {\t\n  render(){\n    let {tusa_data} = this.props.state;\n\t\treturn(\n\t\t\t<Panel id={this.props.id}>\n\t\t\t\t<PanelHeader>🥚Party Playlist 🥚</PanelHeader>\n                <Group title={tusa_data && tusa_data.name}>\n                    {/* <Div>\n                        В группе: @aplinxy9plin, @loxTypoY, @sasha\n                    </Div> */}\n                    {\n                        tusa_data && <Div>\n                            Выбраны: {tusa_data.users.map((item) => item.first_name + (item.last_name !== null ? (\" \" + item.last_name) : \"\")).join(\", \")}\n                        </Div>\n                    }\n                    {/* <Div>\n                        <Button size=\"xl\" color=\"primary\" onClick={this.props.go} data-to=\"find\">Выбрать друзей</Button>\n                    </Div> */}\n                </Group>\n                <List>\n                    {\n                        this.props.state.tracks && this.props.state.tracks.map((item, index) => \n                            <Cell\n                                key={index}\n                                id={index}\n                                before={item.play_now ? <Icon28Pause fill=\"#fff\" /> : <Icon28Play fill=\"#fff\" />}\n                                onClick={this.props.play}\n                            >{item.track_name + (item.artist.length > 0 ? ( \" - \" + item.artist.map((art) => art.name).join(\", \")) : \"\")}</Cell>\n                        )\n                    }\n                </List>\n                <div className=\"play_btn\">\n                   <a href=\"#do_sexy\" onClick={this.props.choose} style={{textDecoration: \"none\"}}>\n                       <span role=\"img\" aria-label=\"yea\" aria-labelledby=\"yea\" style={{fontSize: \"50px\", marginLeft: \"25px\"}}>🎉</span>\n                   </a>\n                </div>\n                <ReactAudioPlayer\n                  src={this.props.state.now_stream}\n                  id=\"audio\"\n                  onEnded={this.props.nextSong}\n                />\n                {/* <audio id=\"audio\" preload=\"none\" onTimeUpdate={() => console.log(\"END123\")}>\n\t\t\t\t    <source src={state.now_stream} type=\"audio/mpeg\" />\n\t\t\t\t</audio> */}\n\t\t\t</Panel>\n\t\t)\n\t}\n}\n\nexport default Home;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { animated, interpolate } from \"react-spring/hooks\";\nimport Carousel from \"nuka-carousel\";\n\nimport Button from '@vkontakte/vkui/dist/components/Button/Button'\n\nclass Card extends React.Component {\n  render() {\n    const { i, x, y, rot, scale, trans, bind, data } = this.props;\n    const { name, age, distance, text, pics } = data[i];\n\n    return (\n      <animated.div\n        key={i}\n        style={{\n          transform: interpolate(\n            [x, y],\n            (x, y) => `translate3d(${x}px,${y}px,0)`\n          )\n        }}\n      >\n        <animated.div\n          {...bind(i)}\n          style={{\n            transform: interpolate([rot, scale], trans)\n          }}\n        >\n          <div className=\"card\">\n            <Carousel>\n              {pics.map((pic, index) => (\n                <img src={pic} key={index} alt=\"profilePicture\" />\n              ))}\n            </Carousel>\n            <h2>{name},</h2>\n            <h2>{age}</h2>\n            <h5>{distance}</h5>\n            <h5>{text}</h5>\n            <Button size=\"xl\" component=\"a\" href=\"https://teleg.run/APogozhev\">Получить в ебало</Button>\n          </div>\n        </animated.div>\n      </animated.div>\n    );\n  }\n}\n\nCard.propTypes = {\n  name: PropTypes.string,\n  age: PropTypes.number,\n  distance: PropTypes.string,\n  text: PropTypes.string,\n  pics: PropTypes.array\n};\n\nexport default Card;\n","export default [\n  {\n    pics: [\n      \"https://images.unsplash.com/photo-1520024146169-3240400354ae?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60\"\n    ],\n    name: \"Heather\",\n    age: 32,\n    distance: \"4 miles away\",\n    text:\n      \"My nickname is Gilette because I'm the best a man can get. Also I will cut you.\"\n  },\n  {\n    pics: [\n      \"https://images.unsplash.com/photo-1522263842439-347f062b8475?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=934&q=80\"\n    ],\n    name: \"Chloe\",\n    age: 18,\n    distance: \"1 mile away\",\n    text: \"The C and the L are silent.\"\n  },\n  {\n    pics: [\n      \"https://images.unsplash.com/photo-1539758462369-43adaa19bc1f?ixlib=rb-1.2.1&auto=format&fit=crop&w=934&q=80\"\n    ],\n    name: \"Helen\",\n    age: 19,\n    distance: \"3 miles away\",\n    text: \"Aspiring MILF\"\n  },\n  {\n    pics: [\n      \"https://images.unsplash.com/photo-1514924801778-1db0aba75e9b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=934&q=80\"\n    ],\n    name: \"Savannah\",\n    age: 29,\n    distance: \"3 miles away\",\n    text: \"A little known fact is that I cover about 40% of Africa.\"\n  },\n  {\n    pics: [\n      \"https://images.unsplash.com/photo-1456885284447-7dd4bb8720bf?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=934&q=80\",\n      \"https://images.unsplash.com/photo-1532635270-c09dac425ca9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=934&q=80\"\n    ],\n    name: \"Jane\",\n    age: 22,\n    distance: \"2 miles away\",\n    text:\n      \"On the first date I will carve our initials in a tree. It's the most romantic way to let you know I have a knife.\"\n  }\n];\n","import React, { useState } from \"react\";\nimport { useSprings } from \"react-spring/hooks\";\nimport { useGesture } from \"react-with-gesture\";\n\n\n\nimport Card from \"./Card\";\nimport data from \"../data.js\";\n\nimport \"./index.css\";\n\nconst to = i => ({\n  x: 0,\n  y: i * -10,\n  scale: 1,\n  rot: -10 + Math.random() * 20,\n  delay: i * 100\n});\nconst from = i => ({ rot: 0, scale: 1.5, y: -1000 });\n\nconst trans = (r, s) =>\n  `perspective(1500px) rotateX(30deg) rotateY(${r /\n    10}deg) rotateZ(${r}deg) scale(${s})`;\n\nfunction Deck() {\n  const [gone] = useState(() => new Set());\n\n  const [props, set] = useSprings(data.length, i => ({\n    ...to(i),\n    from: from(i)\n  }));\n\n  const bind = useGesture(\n    ({\n      args: [index],\n      down,\n      delta: [xDelta],\n      distance,\n      direction: [xDir],\n      velocity\n    }) => {\n      const trigger = velocity > 0.2;\n\n      const dir = xDir < 0 ? -1 : 1;\n\n      if (!down && trigger) gone.add(index);\n\n      set(i => {\n        if (index !== i) return;\n        const isGone = gone.has(index);\n\n        const x = isGone ? (200 + window.innerWidth) * dir : down ? xDelta : 0;\n\n        const rot = xDelta / 100 + (isGone ? dir * 10 * velocity : 0);\n\n        const scale = down ? 1.1 : 1;\n        return {\n          x,\n          rot,\n          scale,\n          delay: undefined,\n          config: { friction: 50, tension: down ? 800 : isGone ? 200 : 500 }\n        };\n      });\n\n      if (!down && gone.size === data.length)\n        setTimeout(() => gone.clear() || set(i => to(i)), 600);\n    }\n  );\n\n  return (\n    <div className=\"tinder\">\n      <center>\n        <h1 style={{\n          position: \"absolute\"\n        }}>Ваши музыкальные вкусы совпали!</h1>\n      </center>\n      {props.map(({ x, y, rot, scale }, i) => (\n      <Card\n        key={i}\n        i={i}\n        x={x}\n        y={y}\n        rot={rot}\n        scale={scale}\n        trans={trans}\n        data={data}\n        bind={bind}\n      />))}\n    </div>\n  );\n}\n\nexport default Deck;\n","import React from 'react';\nimport { Panel, PanelHeader, FormLayout, Checkbox, Search, HeaderButton, platform, IOS } from '@vkontakte/vkui';\n\nimport Icon24Back from '@vkontakte/icons/dist/24/back'\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back'\n\nconst osname = platform()\n\nclass Find extends React.Component {\t\n  constructor(props){\n    super(props);\n    this.state = { \n      search: '',\n    }\n    this.onChange = this.onChange.bind(this)\n  }\n\n  onChange (search) { this.setState({ search }); }\n\n  get users () {\n    const search = this.state.search.toLowerCase();\n    return this.props.state.users.filter((user) => user.username.toLowerCase().indexOf(search) > -1);\n  }\n\n  render(){\n\t\treturn(\n\t\t\t<Panel id={this.props.id}>\n\t\t\t\t<PanelHeader left={<HeaderButton onClick={() => {\n                    this.props.choose()\n                }}>{osname === IOS ? <Icon28ChevronBack /> : <Icon24Back />}</HeaderButton>}>\n                    Выбрать друзей\n                </PanelHeader>\n                <Search value={this.state.search} onChange={this.onChange}/>\n                <FormLayout>\n                {this.users.length > 0 &&\n                    this.users.map((user, index) => \n                        <Checkbox style={{color: \"white\"}} onChange={this.props.onChoose} id={index} checked={user.check} key={user.id}>\n                            <b>{user.username}</b>\n                        </Checkbox>\n                    )\n                }\n                </FormLayout>\n\t\t\t</Panel>\n\t\t)\n\t}\n}\n\nexport default Find;\n","import React, { Component } from 'react'\n\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport Epic from '@vkontakte/vkui/dist/components/Epic/Epic';\nimport Tabbar from '@vkontakte/vkui/dist/components/Tabbar/Tabbar';\nimport TabbarItem from '@vkontakte/vkui/dist/components/TabbarItem/TabbarItem';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Home from './panels/Home'\nimport Tinder from './panels/Tinder'\nimport Find from './panels/Find'\nimport { ScreenSpinner } from '@vkontakte/vkui';\n\nimport Icon28Newsfeed from '@vkontakte/icons/dist/28/newsfeed'\nimport Icon28Music from '@vkontakte/icons/dist/28/music';\n\nexport class App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tlist: [],\n\t\t\tactiveStory: \"party\",\n\t\t\tactivePanel: \"home\",\n\t\t\tusers: [],\n\t\t\tnow_stream: \"\",\n\t\t\tlink_index: 0,\n\t\t\tlinks: [\"https://squanchymusic-parser.herokuapp.com/get_info?link=https://music.apple.com/ru/playlist/%D0%B4%D1%80%D0%B0%D0%BC-%D0%BD-%D0%B1%D1%8D%D0%B9%D1%81/pl.7a75d4e444fb4b3583ec9d48a2b0eef6\", \"https://squanchymusic-parser.herokuapp.com/get_info?link=https://music.yandex.ru/users/aplinnikita/playlists/3\"],\n\t\t\tpopout: <ScreenSpinner />\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tvar urlParams1 = new URLSearchParams(window.location.search);\n\t\tvar group_id = urlParams1.get('group_id');\n\t\tif(group_id){\n\t\t\tfetch(`https://squanchymusic-backend.herokuapp.com/squanchy/groups/generate_playlist/?group_id=${group_id}&platform=telegram`, {\n\t\t\t  \"method\": \"GET\",\n\t\t\t  \"headers\": {\n\t\t\t    \"authorization\": \"Token b45ae4cecf894c51e45a624c5cad2e8349404c2b\"\n\t\t\t  }\n\t\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(tusa_data => this.setState({tusa_data, tracks: tusa_data.tracks, popout: null}))\n\t\t\t.catch(err => {\n\t\t\t  console.log(err);\n\t\t\t});\n\t\t}\n\t\t// fetch(\"https://squanchymusic-backend.herokuapp.com/users/\", {\n\t\t//   \"method\": \"GET\",\n\t\t//   \"headers\": {\n\t\t// \t\"authorization\": \"Token b45ae4cecf894c51e45a624c5cad2e8349404c2b\"\n\t\t//   }\n\t\t// })\n\t\t// .then(response => response.json())\n\t\t// .then(data => this.setState({\n\t\t// \tusers: data.filter((item) => item.username),\n\t\t// \tpopout: null\n\t\t// }))\n\t\t// .catch(err => {\n\t\t//   console.log(err);\n\t\t// });\n\t}\n\n\tonChoose = e => {\n\t\tvar users = this.state.users\n\t\tusers[Number(e.currentTarget.id)].check = !users[Number(e.currentTarget.id)].check\n\t\tthis.setState({users})\n\t}\n\n\tgo = e => {\n\t\tthis.setState({activePanel: e.currentTarget.dataset.to});\n\t};\n\n\tpopout = popout => {\n\t\tthis.setState({popout})\n\t}\n\n\tonStoryChange = e => {\n\t\tthis.setState({activeStory: e.currentTarget.dataset.story, activePanel: \"home\"})\n\t}\n\n\tchoose = ( ) => {\n\t\tfunction shuffle(array) {\n\t\t\tvar currentIndex = array.length, temporaryValue, randomIndex;\n\t\t\t\n\t\t\t// While there remain elements to shuffle...\n\t\t\twhile (0 !== currentIndex) {\n\t\t\t\n\t\t\t  // Pick a remaining element...\n\t\t\t  randomIndex = Math.floor(Math.random() * currentIndex);\n\t\t\t  currentIndex -= 1;\n\t\t\t\n\t\t\t  // And swap it with the current element.\n\t\t\t  temporaryValue = array[currentIndex];\n\t\t\t  array[currentIndex] = array[randomIndex];\n\t\t\t  array[randomIndex] = temporaryValue;\n\t\t\t}\n\t\t\t\n\t\t\treturn array;\n\t\t}\n\t\tthis.setState({tracks: shuffle(this.state.tracks)})\n\t\t// if(this.state.users.filter((item) => item.check).length > 0){\n\t\t\t// var self = this;\n\t\t\t// this.setState({popout: <ScreenSpinner />, activePanel: \"home\"})\n\t\t\t// setTimeout(() => {\n\t\t\t// \tself.setState({popout: null})\n\t\t\t// }, 2000);\n\t\t\t// fetch(this.state.links[this.state.link_index])\n\t\t\t// .then(response => response.json())\n\t\t\t// .then(data => {\n\t\t\t// \tvar tracks = data.map((item) => {\n\t\t\t// \t\treturn {name: item.track_name + \" \" + item.artist[0].name}\n\t\t\t// \t});\n\t\t\t// \tthis.setState({popout: null, tracks, link_index: this.state.link_index === 0 ? 1 : 0})\n\t\t\t// })\n\t\t\t// .catch(err => {\n\t\t\t// \tconsole.log(err);\n\t\t\t// })\n\t\t// }else{\n\t\t// \tthis.setState({activePanel: \"home\"})\n\t\t// }\n\t}\n\n\tplay = e => {\n\t\tthis.setState({\n\t\t\ttracks: this.state.tracks.map((item, index) => {\n\t\t\t\tdocument.getElementById('audio').pause();\n\t\t\t\tif(index === Number(e.currentTarget.id)){\n\t\t\t\t\titem.play_now = !item.play_now\n\t\t\t\t\tif(item.play_now){\n\t\t\t\t\t\tthis.getMusic(item.track_name + \" \" + item.artist.map((art) => art.name).join(\", \"), index)\n\t\t\t\t\t}else{\n\t\t\t\t\t\t// this.getMusic(item.name)\n\t\t\t\t\t\tdocument.getElementById('audio').pause();\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\titem.play_now = false\n\t\t\t\t}\n\t\t\t\treturn item\n\t\t\t})\n\t\t})\n\t}\n\n\tgetMusic = (song_name, index_song) => {\n\t\tfetch(\"https://deezerdevs-deezer.p.rapidapi.com/search?q=\"+song_name, {\n\t\t\t\"method\": \"GET\",\n\t\t\t\"headers\": {\n\t\t\t\t\"x-rapidapi-host\": \"deezerdevs-deezer.p.rapidapi.com\",\n\t\t\t\t\"x-rapidapi-key\": \"9608457de2msh39bd68eedabbaa1p1ab241jsn577c4aa2aac8\"\n\t\t\t}\n\t\t})\n\t\t.then(response => response.json())\n\t\t.then(data => {\n\t\t\tthis.setState({now_stream: data.data[0].preview, index_song})\n\t\t\tdocument.getElementById('audio').play();\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err);\n\t\t});\n\t}\n\n\tnextSong = ( ) => {\n\t\tif(this.state.tracks.length-1 < this.state.index_song+1){\n\t\t\tthis.setState({\n\t\t\t\ttracks: this.state.tracks.map((item) => {\n\t\t\t\t\titem.play_now = false\n\t\t\t\t\treturn item\n\t\t\t\t})\n\t\t\t})\n\t\t}else{\n\t\t\tthis.setState({\n\t\t\t\ttracks: this.state.tracks.map((item, index) => {\n\t\t\t\t\tdocument.getElementById('audio').pause();\n\t\t\t\t\tif(index === Number(this.state.index_song+1)){\n\t\t\t\t\t\titem.play_now = !item.play_now\n\t\t\t\t\t\tif(item.play_now){\n\t\t\t\t\t\t\tthis.getMusic(item.track_name + \" \" + item.artist.map((art) => art.name).join(\", \"), this.state.index_song+1)\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tdocument.getElementById('audio').pause();\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\titem.play_now = false\n\t\t\t\t\t}\n\t\t\t\t\treturn item\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}\n\t\n\trender() {\n\t\treturn(\n\t\t\t<Epic activeStory={this.state.activeStory} tabbar={\n\t\t\t\t<Tabbar>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\tselected={this.state.activeStory === 'party'}\n\t\t\t\t\tdata-story=\"party\"\n\t\t\t\t\ttext=\"ПАТИХАРД\"\n\t\t\t\t  ><Icon28Music /></TabbarItem>\n\t\t\t\t  <TabbarItem\n\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\tselected={this.state.activeStory === 'tinder'}\n\t\t\t\t\tdata-story=\"tinder\"\n\t\t\t\t\ttext=\"Тиндер\"\n\t\t\t\t  ><Icon28Newsfeed /></TabbarItem>\n\t\t\t\t</Tabbar>\n\t\t\t}>\n\t\t\t\t<View id=\"tinder\" activePanel={this.state.activePanel}>\n\t\t\t\t\t<Tinder id=\"home\" go={this.go} state={this.state} play={this.play} nextSong={this.nextSong} choose={this.choose} />\n\t\t\t\t</View>\n\t\t\t\t<View id=\"party\" activePanel={this.state.activePanel} popout={this.state.popout}>\n\t\t\t\t\t<Home id=\"home\" go={this.go} state={this.state} play={this.play} nextSong={this.nextSong} choose={this.choose} />\n\t\t\t\t\t<Find id=\"find\" go={this.go} state={this.state} choose={this.choose} onChoose={this.onChoose} />\n\t\t\t\t</View>\n\t\t\t</Epic>\n\t\t)\n\t}\n}\n\nexport default App","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}